2025-08-14 13:02:29.984 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 13:02:30.162 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 13:02:30.448 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:17851:d4bfcb98 successfully announced in 226,4069 ms
2025-08-14 13:02:30.458 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:17851:d4bfcb98 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 13:02:30.478 +02:00 [INF] Hangfire.Server.ServerWatchdog 1 servers were removed due to timeout
2025-08-14 13:02:30.480 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 13:02:30.523 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 13:02:30.523 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 13:02:30.527 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 13:02:30.527 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 13:02:30.534 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 13:02:30.535 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 13:02:30.538 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 13:02:30.539 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 13:02:30.540 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 13:02:30.541 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 13:02:30.544 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 13:02:30.544 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 13:02:30.553 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 13:02:30.553 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 13:02:30.558 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:17851:d4bfcb98 all the dispatchers started
2025-08-14 13:02:30.569 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 13:02:38.613 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 13:02:41.376 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 13:02:45.535 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:02:45.538 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:02:45.539 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:02:45.541 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:02:45.596 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:02:45.637 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:02:45.637 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:02:45.689 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:02:45.692 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:03:15.517 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:03:15.521 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:03:15.521 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:03:15.521 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:03:15.613 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:03:15.614 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:03:15.615 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:03:15.616 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:03:15.617 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:04:15.565 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:04:15.567 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:04:15.567 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:04:15.567 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:04:15.569 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:04:15.570 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:04:15.570 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:04:15.571 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:04:15.571 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:05:15.584 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:05:15.585 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:05:15.585 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:05:15.585 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:05:15.596 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:05:15.599 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:05:15.599 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:05:15.602 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:05:15.602 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:05:54.507 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 13:06:15.600 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:06:15.601 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:06:15.601 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:06:15.601 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:06:15.603 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:06:15.603 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:06:15.604 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:06:15.605 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:06:15.605 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:07:15.607 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:07:15.608 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:07:15.608 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:07:15.608 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:07:15.615 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:07:15.616 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:07:15.616 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:07:15.635 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:07:15.635 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:07:58.564 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 13:08:08.973 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:17851:d4bfcb98 caught stopping signal...
2025-08-14 13:08:08.982 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:17851:d4bfcb98 All dispatchers stopped
2025-08-14 13:08:08.988 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:17851:d4bfcb98 successfully reported itself as stopped in 2,8734 ms
2025-08-14 13:08:08.990 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:17851:d4bfcb98 has been stopped in total 15,417 ms
2025-08-14 13:08:33.784 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 13:08:33.916 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 13:08:34.108 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:17967:c92e2d73 successfully announced in 158,3104 ms
2025-08-14 13:08:34.113 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:17967:c92e2d73 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 13:08:34.119 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 13:08:34.144 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 13:08:34.144 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 13:08:34.151 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 13:08:34.151 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 13:08:34.154 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 13:08:34.154 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 13:08:34.155 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 13:08:34.156 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 13:08:34.157 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 13:08:34.158 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 13:08:34.158 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:17967:c92e2d73 all the dispatchers started
2025-08-14 13:08:34.159 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 13:08:34.159 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 13:08:34.162 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 13:08:34.162 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 13:08:34.166 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 13:08:34.314 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:08:34.653 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:08:34.661 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:08:34.664 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:08:39.287 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:08:40.230 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:08:40.230 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:08:40.558 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:08:40.569 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:09:10.635 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:09:10.637 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:09:10.637 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:09:10.637 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:09:10.668 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:09:10.670 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:09:10.670 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:09:10.672 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:09:10.672 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:09:42.646 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 13:09:43.320 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 13:10:10.715 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:10:10.736 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:10:10.738 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:10:10.739 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:10:10.746 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:10:10.749 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:10:10.749 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:10:10.752 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:10:10.752 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:11:10.788 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:11:10.799 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:11:10.800 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:11:10.800 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:11:10.917 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:11:10.957 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:11:10.957 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:11:11.011 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:11:11.011 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:12:07.425 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:17967:c92e2d73 caught stopping signal...
2025-08-14 13:12:07.624 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:17967:c92e2d73 All dispatchers stopped
2025-08-14 13:12:07.705 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:17967:c92e2d73 successfully reported itself as stopped in 7,9128 ms
2025-08-14 13:12:07.705 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:17967:c92e2d73 has been stopped in total 278,1669 ms
2025-08-14 13:12:21.755 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 13:12:21.874 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 13:12:22.031 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18018:017630e5 successfully announced in 124,441 ms
2025-08-14 13:12:22.035 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18018:017630e5 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 13:12:22.043 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 13:12:22.071 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18018:017630e5 all the dispatchers started
2025-08-14 13:12:22.078 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 13:12:22.079 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 13:12:22.082 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 13:12:22.083 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 13:12:22.086 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 13:12:22.087 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 13:12:22.089 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 13:12:22.089 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 13:12:22.093 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 13:12:22.093 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 13:12:22.096 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 13:12:22.096 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 13:12:22.101 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 13:12:22.101 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 13:12:22.104 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 13:12:22.253 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:12:22.448 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:12:22.449 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:12:22.450 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:12:24.431 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 13:12:25.304 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:12:25.370 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 13:12:25.407 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:12:25.408 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:12:25.480 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:12:25.488 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:12:25.748 +02:00 [ERR] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at FoodItem.<>c.<GetFoodUnitNamesList>b__25_0(FoodHasUnit u) in /Users/erlend/Documents/calcalc/calcalc/Models/FoodItem.cs:line 25
   at System.Linq.Enumerable.ListSelectIterator`2.MoveNext()
   at System.String.Join(String separator, IEnumerable`1 values)
   at FoodItem.GetFoodUnitNamesList() in /Users/erlend/Documents/calcalc/calcalc/Models/FoodItem.cs:line 25
   at AspNetCoreGeneratedDocument.Views_FoodItem_Details.ExecuteAsync() in /Users/erlend/Documents/calcalc/calcalc/Views/FoodItem/Details.cshtml:line 4
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-14 13:13:00.922 +02:00 [ERR] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at FoodItem.<>c.<GetFoodUnitNamesList>b__25_0(FoodHasUnit u) in /Users/erlend/Documents/calcalc/calcalc/Models/FoodItem.cs:line 25
   at System.Linq.Enumerable.ListSelectIterator`2.MoveNext()
   at System.String.Join(String separator, IEnumerable`1 values)
   at FoodItem.GetFoodUnitNamesList() in /Users/erlend/Documents/calcalc/calcalc/Models/FoodItem.cs:line 25
   at AspNetCoreGeneratedDocument.Views_FoodItem_Details.ExecuteAsync() in /Users/erlend/Documents/calcalc/calcalc/Views/FoodItem/Details.cshtml:line 4
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-14 13:13:02.105 +02:00 [ERR] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at FoodItem.<>c.<GetFoodUnitNamesList>b__25_0(FoodHasUnit u) in /Users/erlend/Documents/calcalc/calcalc/Models/FoodItem.cs:line 25
   at System.Linq.Enumerable.ListSelectIterator`2.MoveNext()
   at System.String.Join(String separator, IEnumerable`1 values)
   at FoodItem.GetFoodUnitNamesList() in /Users/erlend/Documents/calcalc/calcalc/Models/FoodItem.cs:line 25
   at AspNetCoreGeneratedDocument.Views_FoodItem_Details.ExecuteAsync() in /Users/erlend/Documents/calcalc/calcalc/Views/FoodItem/Details.cshtml:line 4
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-14 13:13:02.687 +02:00 [ERR] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at FoodItem.<>c.<GetFoodUnitNamesList>b__25_0(FoodHasUnit u) in /Users/erlend/Documents/calcalc/calcalc/Models/FoodItem.cs:line 25
   at System.Linq.Enumerable.ListSelectIterator`2.MoveNext()
   at System.String.Join(String separator, IEnumerable`1 values)
   at FoodItem.GetFoodUnitNamesList() in /Users/erlend/Documents/calcalc/calcalc/Models/FoodItem.cs:line 25
   at AspNetCoreGeneratedDocument.Views_FoodItem_Details.ExecuteAsync() in /Users/erlend/Documents/calcalc/calcalc/Views/FoodItem/Details.cshtml:line 4
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-14 13:13:10.530 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:13:10.530 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:13:10.531 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:13:10.531 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:13:10.533 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:13:10.535 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:13:10.535 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:13:10.537 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:13:10.537 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:13:32.325 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18018:017630e5 caught stopping signal...
2025-08-14 13:13:32.333 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18018:017630e5 All dispatchers stopped
2025-08-14 13:13:32.343 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18018:017630e5 successfully reported itself as stopped in 6,2998 ms
2025-08-14 13:13:32.343 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18018:017630e5 has been stopped in total 17,2902 ms
2025-08-14 13:13:49.934 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 13:13:50.069 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 13:13:50.348 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18054:a2b3cbdd successfully announced in 206,4942 ms
2025-08-14 13:13:50.356 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18054:a2b3cbdd is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 13:13:50.461 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 13:13:50.531 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18054:a2b3cbdd all the dispatchers started
2025-08-14 13:13:50.578 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 13:13:50.578 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 13:13:50.606 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 13:13:50.606 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 13:13:50.684 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 13:13:50.723 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 13:13:50.726 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 13:13:50.726 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 13:13:50.728 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 13:13:50.728 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 13:13:50.733 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 13:13:50.733 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 13:13:50.734 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 13:13:50.735 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 13:13:50.736 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 13:13:52.990 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 13:13:59.640 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 13:15:04.635 +02:00 [ERR] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at FoodItem.<>c.<GetFoodUnitNamesList>b__25_0(FoodHasUnit u)
   at System.Linq.Enumerable.ListSelectIterator`2.MoveNext()
   at System.String.Join(String separator, IEnumerable`1 values)
   at FoodItem.GetFoodUnitNamesList()
   at AspNetCoreGeneratedDocument.Views_FoodItem_Details.ExecuteAsync()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-14 13:15:07.467 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 13:15:19.687 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:15:19.693 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:15:19.695 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:15:19.697 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:15:19.810 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:15:19.866 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:15:19.866 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:15:19.900 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:15:19.903 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:16:19.515 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:16:19.516 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:16:19.516 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:16:19.517 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:16:19.519 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:16:19.521 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:16:19.521 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:16:19.525 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:16:19.525 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:17:19.547 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:17:19.548 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:17:19.548 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:17:19.548 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:17:19.559 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:17:19.560 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:17:19.560 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:17:19.561 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:17:19.561 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:18:19.559 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:18:19.560 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:18:19.560 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:18:19.561 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:18:19.563 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:18:19.565 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:18:19.565 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:18:19.567 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:18:19.567 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:19:19.597 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:19:19.597 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:19:19.598 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:19:19.598 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:19:19.610 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:19:19.611 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:19:19.611 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:19:19.612 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:19:19.612 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:20:19.614 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:20:19.620 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:20:19.621 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:20:19.621 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:20:19.693 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:20:19.696 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:20:19.696 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:20:19.700 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:20:19.700 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:21:19.653 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:21:19.653 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:21:19.654 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:21:19.654 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:21:19.656 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:21:19.657 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:21:19.657 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:21:19.658 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:21:19.658 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:22:19.683 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:22:19.684 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:22:19.684 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:22:19.684 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:22:19.716 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:22:19.718 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:22:19.718 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:22:19.719 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:22:19.719 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:23:19.733 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:23:19.734 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:23:19.734 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:23:19.734 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:23:19.768 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:23:19.769 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:23:19.769 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:23:19.770 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:23:19.771 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:24:19.744 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:24:19.744 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:24:19.745 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:24:19.745 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:24:19.748 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:24:19.750 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:24:19.750 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:24:19.752 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:24:19.752 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:25:19.758 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:25:19.758 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:25:19.759 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:25:19.759 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:25:19.782 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:25:19.783 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:25:19.783 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:25:19.785 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:25:19.785 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:26:19.777 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:26:19.777 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:26:19.777 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:26:19.777 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:26:19.779 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:26:19.792 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:26:19.792 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:26:19.793 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:26:19.793 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:55:07.113 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 13:55:07.254 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 13:55:07.416 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18914:07d9a247 successfully announced in 122,2359 ms
2025-08-14 13:55:07.420 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18914:07d9a247 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 13:55:07.426 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 13:55:07.442 +02:00 [INF] Hangfire.Server.ServerWatchdog 1 servers were removed due to timeout
2025-08-14 13:55:07.451 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 13:55:07.451 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 13:55:07.458 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18914:07d9a247 all the dispatchers started
2025-08-14 13:55:07.461 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 13:55:07.461 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 13:55:07.463 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 13:55:07.463 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 13:55:07.467 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 13:55:07.467 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 13:55:07.469 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 13:55:07.469 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 13:55:07.472 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 13:55:07.472 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 13:55:07.474 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 13:55:07.474 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 13:55:07.476 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 13:55:13.959 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 13:55:17.056 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 13:55:22.494 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:55:22.497 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:55:22.498 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:55:22.501 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:55:22.571 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:55:22.642 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:55:22.642 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:55:22.694 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:55:22.698 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:56:07.731 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:56:07.735 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:56:07.735 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:56:07.735 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:56:07.857 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:56:07.859 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:56:07.859 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:56:07.860 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:56:07.861 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:57:07.879 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:57:07.880 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:57:07.880 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:57:07.880 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:57:07.882 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:57:07.883 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:57:07.884 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:57:07.885 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:57:07.885 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:58:07.908 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:58:07.908 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:58:07.908 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:58:07.908 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:58:07.911 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:58:07.913 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:58:07.913 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:58:07.914 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:58:07.914 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:59:07.931 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 13:59:07.932 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 13:59:07.932 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 13:59:07.932 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 13:59:07.935 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 13:59:07.935 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 13:59:07.935 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 13:59:07.936 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 13:59:07.936 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 13:59:49.290 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18914:07d9a247 caught stopping signal...
2025-08-14 13:59:49.301 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18914:07d9a247 All dispatchers stopped
2025-08-14 13:59:49.305 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18914:07d9a247 successfully reported itself as stopped in 1,2372 ms
2025-08-14 13:59:49.305 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18914:07d9a247 has been stopped in total 14,0137 ms
2025-08-14 14:00:02.374 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 14:00:02.503 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 14:00:02.672 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18976:87d61e12 successfully announced in 134,8214 ms
2025-08-14 14:00:02.676 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18976:87d61e12 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 14:00:02.683 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 14:00:02.707 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18976:87d61e12 all the dispatchers started
2025-08-14 14:00:02.715 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 14:00:02.715 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 14:00:02.717 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 14:00:02.717 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 14:00:02.720 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 14:00:02.720 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 14:00:02.721 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 14:00:02.721 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 14:00:02.722 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 14:00:02.723 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 14:00:02.724 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 14:00:02.724 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 14:00:02.725 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 14:00:02.725 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 14:00:02.726 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 14:00:05.478 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 14:00:08.739 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 14:00:17.745 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:00:17.749 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:00:17.751 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:00:17.752 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:00:17.943 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:00:18.003 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:00:18.003 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:00:18.052 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:00:18.055 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:01:03.090 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:01:03.091 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:01:03.091 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:01:03.091 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:01:03.093 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:01:03.095 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:01:03.095 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:01:03.096 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:01:03.097 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:02:03.114 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:02:03.115 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:02:03.115 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:02:03.115 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:02:03.117 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:02:03.117 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:02:03.117 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:02:03.119 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:02:03.119 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:03:03.136 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:03:03.138 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:03:03.139 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:03:03.139 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:03:03.143 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:03:03.144 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:03:03.144 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:03:03.146 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:03:03.146 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:04:03.164 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:04:03.164 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:04:03.164 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:04:03.165 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:04:03.166 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:04:03.167 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:04:03.167 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:04:03.168 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:04:03.169 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:05:17.792 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:05:17.798 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:05:17.798 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:05:17.799 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:05:17.873 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:05:17.906 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:05:17.906 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:05:17.916 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:05:17.920 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:06:17.784 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:06:17.784 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:06:17.784 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:06:17.785 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:06:17.786 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:06:17.787 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:06:17.787 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:06:17.789 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:06:17.789 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:07:17.812 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:07:17.812 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:07:17.813 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:07:17.816 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:07:17.847 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:07:17.855 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:07:17.855 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:07:17.901 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:07:17.902 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:08:17.844 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:08:17.844 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:08:17.851 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:08:17.851 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:08:17.872 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:08:17.878 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:08:17.878 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:08:17.884 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:08:17.884 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:09:17.909 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:09:17.923 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:09:17.924 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:09:17.924 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:09:17.952 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:09:17.953 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:09:17.953 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:09:17.955 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:09:17.956 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:10:17.910 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:10:17.911 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:10:17.911 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:10:17.911 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:10:17.913 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:10:17.915 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:10:17.915 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:10:17.916 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:10:17.917 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:11:17.942 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:11:17.942 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:11:17.942 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:11:17.942 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:11:17.944 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:11:17.946 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:11:17.946 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:11:17.947 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:11:17.947 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:12:18.058 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:12:18.062 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:12:18.062 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:12:18.062 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:12:18.076 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:12:18.079 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:12:18.079 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:12:18.086 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:12:18.086 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:13:17.963 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:13:17.964 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:13:17.964 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:13:17.964 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:13:17.965 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:13:17.966 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:13:17.966 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:13:17.968 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:13:17.968 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:14:17.978 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:14:17.979 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:14:17.979 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:14:17.979 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:14:17.981 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:14:17.981 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:14:17.981 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:14:17.982 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:14:17.982 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:15:09.686 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 14:15:13.460 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 14:15:18.015 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:15:18.016 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:15:18.016 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:15:18.016 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:15:18.032 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:15:18.033 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:15:18.033 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:15:18.035 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:15:18.035 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:16:18.020 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:16:18.020 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:16:18.020 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:16:18.020 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:16:18.021 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:16:18.022 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:16:18.022 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:16:18.022 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:16:18.022 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:17:18.032 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:17:18.033 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:17:18.033 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:17:18.033 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:17:18.035 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:17:18.035 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:17:18.035 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:17:18.036 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:17:18.036 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:18:18.069 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:18:18.074 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:18:18.075 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:18:18.075 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:18:18.087 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:18:18.087 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:18:18.088 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:18:18.088 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:18:18.089 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:19:18.072 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:19:18.073 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:19:18.073 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:19:18.073 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:19:18.075 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:19:18.075 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:19:18.075 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:19:18.076 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:19:18.076 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:20:18.095 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:20:18.096 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:20:18.096 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:20:18.096 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:20:18.098 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:20:18.098 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:20:18.098 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:20:18.099 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:20:18.099 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:21:18.116 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:21:18.116 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:21:18.116 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:21:18.116 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:21:18.118 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:21:18.120 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:21:18.120 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:21:18.121 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:21:18.121 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:22:18.145 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:22:18.146 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:22:18.146 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:22:18.146 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:22:18.147 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:22:18.148 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:22:18.148 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:22:18.148 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:22:18.149 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:23:18.161 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:23:18.162 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:23:18.162 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:23:18.162 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:23:18.163 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:23:18.163 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:23:18.163 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:23:18.164 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:23:18.165 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:24:18.186 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:24:18.187 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:24:18.187 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:24:18.187 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:24:18.199 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:24:18.200 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:24:18.200 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:24:18.211 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:24:18.211 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:25:18.233 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:25:18.234 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:25:18.234 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:25:18.234 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:25:18.236 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:25:18.237 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:25:18.237 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:25:18.238 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:25:18.238 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:26:18.245 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:26:18.246 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:26:18.246 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:26:18.246 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:26:18.248 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:26:18.249 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:26:18.249 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:26:18.251 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:26:18.252 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:26:43.220 +02:00 [FTL] calcalc.Controllers.CalculateController DETTE ER EN FEIL!
2025-08-14 14:26:43.341 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 14:27:18.321 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:27:18.335 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:27:18.335 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:27:18.335 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:27:18.361 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:27:18.362 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:27:18.362 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:27:18.363 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:27:18.363 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:28:18.375 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:28:18.377 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:28:18.377 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:28:18.377 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:28:18.399 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:28:18.400 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:28:18.400 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:28:18.402 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:28:18.402 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:29:18.352 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:29:18.353 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:29:18.353 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:29:18.353 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:29:18.355 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:29:18.356 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:29:18.356 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:29:18.358 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:29:18.359 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:30:18.394 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:30:18.394 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:30:18.394 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:30:18.394 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:30:18.396 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:30:18.396 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:30:18.396 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:30:18.397 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:30:18.397 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:31:18.410 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:31:18.411 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:31:18.411 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:31:18.411 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:31:18.422 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:31:18.423 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:31:18.423 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:31:18.424 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:31:18.432 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:32:18.421 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:32:18.421 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:32:18.421 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:32:18.421 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:32:18.423 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:32:18.423 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:32:18.423 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:32:18.424 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:32:18.424 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:33:18.433 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:33:18.433 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:33:18.433 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:33:18.433 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:33:18.435 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:33:18.435 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:33:18.435 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:33:18.436 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:33:18.436 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:34:18.450 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:34:18.451 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:34:18.451 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:34:18.451 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:34:18.452 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:34:18.452 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:34:18.452 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:34:18.453 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:34:18.453 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:35:18.466 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:35:18.466 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:35:18.466 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:35:18.466 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:35:18.467 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:35:18.468 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:35:18.468 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:35:18.469 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:35:18.469 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:36:18.470 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:36:18.470 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:36:18.471 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:36:18.471 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:36:18.472 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:36:18.473 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:36:18.473 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:36:18.474 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:36:18.474 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:37:18.458 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:37:18.458 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:37:18.458 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:37:18.458 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:37:18.459 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:37:18.459 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:37:18.460 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:37:18.460 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:37:18.460 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:38:18.473 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:38:18.474 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:38:18.474 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:38:18.474 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:38:18.475 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:38:18.476 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:38:18.476 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:38:18.477 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:38:18.477 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:38:28.074 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 14:39:18.493 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:39:18.494 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:39:18.494 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:39:18.494 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:39:18.495 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:39:18.496 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:39:18.496 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:39:18.497 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:39:18.497 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:40:18.518 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:40:18.519 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:40:18.520 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:40:18.520 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:40:18.532 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:40:18.534 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:40:18.534 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:40:18.535 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:40:18.536 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:41:18.521 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:41:18.522 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:41:18.522 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:41:18.522 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:41:18.524 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:41:18.525 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:41:18.525 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:41:18.526 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:41:18.526 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:42:18.537 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:42:18.537 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:42:18.537 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:42:18.537 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:42:18.539 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:42:18.539 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:42:18.539 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:42:18.540 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:42:18.540 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:43:18.607 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:43:18.609 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:43:18.610 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:43:18.610 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:43:18.638 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:43:18.639 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:43:18.639 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:43:18.640 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:43:18.640 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:44:18.585 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:44:18.587 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:44:18.587 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:44:18.587 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:44:18.589 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:44:18.591 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:44:18.591 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:44:18.594 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:44:18.594 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:45:18.602 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:45:18.603 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:45:18.603 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:45:18.603 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:45:18.615 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:45:18.616 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:45:18.616 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:45:18.621 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:45:18.621 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:46:18.605 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:46:18.623 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:46:18.623 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:46:18.623 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:46:18.649 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:46:18.680 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:46:18.680 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:46:18.700 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:46:18.700 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:47:18.666 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:47:18.673 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:47:18.673 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:47:18.673 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:47:18.695 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:47:18.696 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:47:18.696 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:47:18.697 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:47:18.697 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:48:18.695 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:48:18.697 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:48:18.697 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:48:18.697 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:48:18.711 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:48:18.713 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:48:18.713 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:48:18.715 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:48:18.715 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:49:18.724 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:49:18.727 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:49:18.728 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:49:18.728 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:49:18.742 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:49:18.751 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:49:18.751 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:49:18.753 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:49:18.753 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:50:18.759 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:50:18.765 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:50:18.766 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:50:18.766 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:50:18.796 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:50:18.798 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:50:18.805 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:50:18.806 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:50:18.806 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:51:18.758 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:51:18.759 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:51:18.759 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:51:18.759 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:51:18.760 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:51:18.761 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:51:18.761 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:51:18.761 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:51:18.761 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:52:08.879 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18976:87d61e12 caught stopping signal...
2025-08-14 14:52:08.913 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18976:87d61e12 All dispatchers stopped
2025-08-14 14:52:08.924 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18976:87d61e12 successfully reported itself as stopped in 3,6139 ms
2025-08-14 14:52:08.924 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:18976:87d61e12 has been stopped in total 39,2556 ms
2025-08-14 14:52:43.508 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 14:52:43.743 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 14:52:43.986 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19763:c8939045 successfully announced in 201,3144 ms
2025-08-14 14:52:44.023 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19763:c8939045 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 14:52:44.030 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 14:52:44.094 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19763:c8939045 all the dispatchers started
2025-08-14 14:52:44.102 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 14:52:44.102 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 14:52:44.108 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 14:52:44.108 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 14:52:44.118 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 14:52:44.118 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 14:52:44.121 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 14:52:44.121 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 14:52:44.123 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 14:52:44.123 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 14:52:44.124 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 14:52:44.124 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 14:52:44.131 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 14:52:44.131 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 14:52:44.135 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 14:52:44.312 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:52:44.720 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:52:44.723 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:52:44.725 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:52:48.342 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:52:48.565 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:52:48.565 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:52:48.851 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:52:48.862 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:52:54.122 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 14:53:18.915 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:53:18.923 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:53:18.924 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:53:18.924 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:53:19.101 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:53:19.105 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:53:19.105 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:53:19.107 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:53:19.107 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:54:19.127 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:54:19.129 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:54:19.129 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:54:19.129 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:54:19.132 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:54:19.133 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:54:19.133 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:54:19.134 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:54:19.134 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:55:19.169 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:55:19.184 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:55:19.185 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:55:19.189 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:55:19.261 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:55:19.274 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:55:19.274 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:55:19.277 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:55:19.277 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:56:07.856 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19763:c8939045 caught stopping signal...
2025-08-14 14:56:07.888 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19763:c8939045 All dispatchers stopped
2025-08-14 14:56:07.907 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19763:c8939045 successfully reported itself as stopped in 2,3587 ms
2025-08-14 14:56:07.907 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19763:c8939045 has been stopped in total 48,5442 ms
2025-08-14 14:56:37.537 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 14:56:37.689 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 14:56:37.922 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19841:06e7084d successfully announced in 189,1061 ms
2025-08-14 14:56:37.928 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19841:06e7084d is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 14:56:37.940 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 14:56:37.979 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 14:56:37.979 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 14:56:37.979 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19841:06e7084d all the dispatchers started
2025-08-14 14:56:37.986 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 14:56:37.986 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 14:56:37.988 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 14:56:37.988 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 14:56:37.996 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 14:56:37.996 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 14:56:38.003 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 14:56:38.004 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 14:56:38.006 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 14:56:38.006 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 14:56:38.011 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 14:56:38.011 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 14:56:38.019 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 14:56:39.060 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 14:56:42.207 +02:00 [ERR] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'fu.Synonyms' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at calcalc.Controllers.FoodUnitController.Index() in /Users/erlend/Documents/calcalc/calcalc/Controllers/FoodUnitController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-14 14:56:53.109 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:56:53.111 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:56:53.113 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:56:53.115 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:56:53.908 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:56:54.228 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:56:54.229 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:56:55.669 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:56:55.678 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:57:10.827 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:57:10.831 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:57:10.831 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:57:10.831 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:57:10.929 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:57:10.932 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:57:10.932 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:57:10.936 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:57:10.937 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:57:33.372 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19841:06e7084d caught stopping signal...
2025-08-14 14:57:33.508 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19841:06e7084d All dispatchers stopped
2025-08-14 14:57:33.595 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19841:06e7084d successfully reported itself as stopped in 3,3858 ms
2025-08-14 14:57:33.596 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19841:06e7084d has been stopped in total 218,2226 ms
2025-08-14 14:57:48.948 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 14:57:49.646 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 14:57:50.771 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19876:da653784 successfully announced in 965,3426 ms
2025-08-14 14:57:50.818 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19876:da653784 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 14:57:50.853 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 14:57:50.914 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 14:57:50.914 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 14:57:50.918 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 14:57:50.918 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 14:57:50.920 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 14:57:50.920 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 14:57:50.922 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 14:57:50.922 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 14:57:50.923 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 14:57:50.924 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 14:57:50.925 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 14:57:50.925 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 14:57:50.927 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 14:57:50.927 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 14:57:50.928 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 14:57:51.075 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19876:da653784 all the dispatchers started
2025-08-14 14:58:14.349 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19876:da653784 caught stopping signal...
2025-08-14 14:58:14.451 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19876:da653784 All dispatchers stopped
2025-08-14 14:58:14.486 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19876:da653784 successfully reported itself as stopped in 3,2855 ms
2025-08-14 14:58:14.488 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19876:da653784 has been stopped in total 123,8758 ms
2025-08-14 14:58:31.790 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 14:58:31.996 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 14:58:32.198 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19894:eebc29a3 successfully announced in 150,761 ms
2025-08-14 14:58:32.203 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19894:eebc29a3 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 14:58:32.212 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 14:58:32.229 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19894:eebc29a3 all the dispatchers started
2025-08-14 14:58:32.241 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 14:58:32.241 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 14:58:32.249 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 14:58:32.249 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 14:58:32.252 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 14:58:32.252 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 14:58:32.253 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 14:58:32.254 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 14:58:32.256 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 14:58:32.257 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 14:58:32.258 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 14:58:32.259 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 14:58:32.264 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 14:58:32.265 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 14:58:32.267 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 14:58:32.414 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:58:32.610 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:58:32.611 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:58:32.612 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:58:33.805 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 14:58:34.928 +02:00 [ERR] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'fu.Synonyms' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at calcalc.Controllers.FoodUnitController.Index() in /Users/erlend/Documents/calcalc/calcalc/Controllers/FoodUnitController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-14 14:58:36.002 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:58:36.182 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:58:36.183 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:58:36.494 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:58:36.499 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 14:59:06.580 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 14:59:06.590 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 14:59:06.592 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 14:59:06.593 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 14:59:06.754 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 14:59:06.758 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 14:59:06.758 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 14:59:06.761 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 14:59:06.761 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:00:05.315 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19894:eebc29a3 caught stopping signal...
2025-08-14 15:00:05.360 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19894:eebc29a3 All dispatchers stopped
2025-08-14 15:00:05.381 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19894:eebc29a3 successfully reported itself as stopped in 3,1437 ms
2025-08-14 15:00:05.381 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19894:eebc29a3 has been stopped in total 63,7416 ms
2025-08-14 15:01:48.136 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 15:01:48.275 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 15:01:48.465 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19994:db8a7369 successfully announced in 157,1063 ms
2025-08-14 15:01:48.469 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19994:db8a7369 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 15:01:48.481 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 15:01:48.505 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19994:db8a7369 all the dispatchers started
2025-08-14 15:01:48.531 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 15:01:48.532 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 15:01:48.535 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 15:01:48.535 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 15:01:48.539 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 15:01:48.539 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 15:01:48.542 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 15:01:48.542 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 15:01:48.544 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 15:01:48.544 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 15:01:48.545 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 15:01:48.546 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 15:01:48.547 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 15:01:48.548 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 15:01:48.550 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 15:01:48.702 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:01:48.928 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:01:48.931 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:01:48.933 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:01:51.276 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:01:51.455 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:01:51.456 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:01:52.048 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:01:52.101 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:01:52.193 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:01:52.207 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:01:52.208 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:01:52.208 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:01:52.370 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:01:52.373 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:01:52.375 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:01:52.378 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:01:52.379 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:01:52.401 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 15:01:52.855 +02:00 [ERR] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'fu.Synonyms' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at calcalc.Controllers.FoodUnitController.Index() in /Users/erlend/Documents/calcalc/calcalc/Controllers/FoodUnitController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-14 15:01:54.257 +02:00 [ERR] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'fu.Synonyms' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at calcalc.Controllers.FoodUnitController.Index() in /Users/erlend/Documents/calcalc/calcalc/Controllers/FoodUnitController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-14 15:02:07.417 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:02:07.422 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:02:07.422 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:02:07.423 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:02:07.427 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:02:07.429 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:02:07.429 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:02:07.441 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:02:07.441 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:03:07.460 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:03:07.461 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:03:07.461 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:03:07.461 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:03:07.463 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:03:07.465 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:03:07.465 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:03:07.467 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:03:07.467 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:04:07.489 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:04:07.489 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:04:07.490 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:04:07.490 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:04:07.491 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:04:07.492 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:04:07.492 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:04:07.494 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:04:07.494 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:05:07.512 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:05:07.512 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:05:07.512 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:05:07.512 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:05:07.514 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:05:07.515 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:05:07.515 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:05:07.516 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:05:07.516 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:06:07.591 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:06:07.611 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:06:07.611 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:06:07.611 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:06:07.655 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:06:07.656 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:06:07.656 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:06:07.659 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:06:07.659 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:06:19.954 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19994:db8a7369 caught stopping signal...
2025-08-14 15:06:19.987 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19994:db8a7369 All dispatchers stopped
2025-08-14 15:06:20.029 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19994:db8a7369 successfully reported itself as stopped in 0,9752 ms
2025-08-14 15:06:20.029 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:19994:db8a7369 has been stopped in total 74,1742 ms
2025-08-14 15:06:37.780 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 15:06:37.960 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 15:06:38.150 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20066:f384572c successfully announced in 154,1629 ms
2025-08-14 15:06:38.154 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20066:f384572c is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 15:06:38.161 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 15:06:38.186 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20066:f384572c all the dispatchers started
2025-08-14 15:06:38.194 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 15:06:38.194 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 15:06:38.219 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 15:06:38.219 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 15:06:38.221 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 15:06:38.221 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 15:06:38.223 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 15:06:38.223 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 15:06:38.225 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 15:06:38.225 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 15:06:38.228 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 15:06:38.228 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 15:06:38.229 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 15:06:38.230 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 15:06:38.234 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 15:07:12.477 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20066:f384572c caught stopping signal...
2025-08-14 15:07:12.486 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20066:f384572c All dispatchers stopped
2025-08-14 15:07:12.493 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20066:f384572c successfully reported itself as stopped in 2,4053 ms
2025-08-14 15:07:12.494 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20066:f384572c has been stopped in total 14,3598 ms
2025-08-14 15:07:24.489 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 15:07:24.697 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 15:07:24.958 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 15:07:25.239 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20091:3fd55c96 successfully announced in 172,6793 ms
2025-08-14 15:07:25.244 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20091:3fd55c96 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 15:07:25.254 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 15:07:25.283 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 15:07:25.284 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 15:07:25.288 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 15:07:25.288 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 15:07:25.290 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 15:07:25.290 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 15:07:25.292 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 15:07:25.292 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 15:07:25.293 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 15:07:25.293 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 15:07:25.295 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 15:07:25.295 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 15:07:25.297 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20091:3fd55c96 all the dispatchers started
2025-08-14 15:07:25.299 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 15:07:25.300 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 15:07:25.304 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 15:07:25.454 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:07:25.634 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:07:25.637 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:07:25.639 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:07:28.681 +02:00 [ERR] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'fu.Synonyms' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at calcalc.Controllers.FoodUnitController.Index() in /Users/erlend/Documents/calcalc/calcalc/Controllers/FoodUnitController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-14 15:07:31.321 +02:00 [ERR] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'fu.Synonyms' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at calcalc.Controllers.FoodUnitController.Index() in /Users/erlend/Documents/calcalc/calcalc/Controllers/FoodUnitController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-14 15:07:32.305 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:07:33.923 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:07:33.923 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:07:35.848 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:07:35.858 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:08:20.915 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:08:20.916 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:08:20.917 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:08:20.917 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:08:20.924 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:08:20.926 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:08:20.926 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:08:20.930 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:08:20.930 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:08:58.682 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20091:3fd55c96 caught stopping signal...
2025-08-14 15:08:58.715 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20091:3fd55c96 All dispatchers stopped
2025-08-14 15:08:58.726 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20091:3fd55c96 successfully reported itself as stopped in 6,7083 ms
2025-08-14 15:08:58.726 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20091:3fd55c96 has been stopped in total 37,7081 ms
2025-08-14 15:09:17.717 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 15:09:17.982 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 15:09:18.297 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20143:eec4822a successfully announced in 251,7759 ms
2025-08-14 15:09:18.305 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20143:eec4822a is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 15:09:18.319 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 15:09:18.354 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 15:09:18.354 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 15:09:18.357 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 15:09:18.358 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 15:09:18.359 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 15:09:18.360 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 15:09:18.361 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 15:09:18.362 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 15:09:18.363 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 15:09:18.364 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 15:09:18.365 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 15:09:18.365 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 15:09:18.370 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 15:09:18.370 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 15:09:18.374 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 15:09:18.405 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20143:eec4822a all the dispatchers started
2025-08-14 15:09:19.154 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 15:09:33.400 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:09:33.407 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:09:33.409 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:09:33.410 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:09:33.591 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:09:33.682 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:09:33.682 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:09:33.793 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:09:33.797 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:10:18.382 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:10:18.383 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:10:18.386 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:10:18.386 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:10:18.406 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:10:18.415 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:10:18.420 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:10:18.427 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:10:18.428 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:11:18.396 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:11:18.398 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:11:18.398 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:11:18.398 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:11:18.399 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:11:18.404 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:11:18.404 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:11:18.406 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:11:18.406 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:12:18.421 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:12:18.422 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:12:18.422 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:12:18.422 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:12:18.424 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:12:18.425 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:12:18.426 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:12:18.427 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:12:18.427 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:13:18.501 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:13:18.503 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:13:18.504 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:13:18.504 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:13:18.507 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:13:18.508 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:13:18.508 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:13:18.510 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:13:18.510 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:14:18.464 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:14:18.464 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:14:18.465 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:14:18.465 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:14:18.467 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:14:18.468 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:14:18.468 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:14:18.469 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:14:18.470 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:15:18.479 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:15:18.481 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:15:18.481 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:15:18.481 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:15:18.484 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:15:18.485 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:15:18.485 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:15:18.487 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:15:18.487 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:15:31.695 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20143:eec4822a caught stopping signal...
2025-08-14 15:15:31.787 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20143:eec4822a All dispatchers stopped
2025-08-14 15:15:31.794 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20143:eec4822a successfully reported itself as stopped in 3,046 ms
2025-08-14 15:15:31.794 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20143:eec4822a has been stopped in total 95,7946 ms
2025-08-14 15:15:43.994 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 15:15:44.133 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 15:15:44.315 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20268:7482090b successfully announced in 146,2978 ms
2025-08-14 15:15:44.319 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20268:7482090b is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 15:15:44.326 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 15:15:44.346 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20268:7482090b all the dispatchers started
2025-08-14 15:15:44.419 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 15:15:44.419 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 15:15:44.426 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 15:15:44.426 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 15:15:44.430 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 15:15:44.431 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 15:15:44.432 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 15:15:44.432 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 15:15:44.434 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 15:15:44.436 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 15:15:44.441 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 15:15:44.441 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 15:15:44.447 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 15:15:44.447 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 15:15:44.452 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 15:16:29.424 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:16:29.619 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:16:29.620 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:16:29.621 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:16:32.009 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:16:32.194 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:16:32.194 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:16:32.393 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:16:32.400 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:16:50.215 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 15:16:50.797 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 15:17:03.663 +02:00 [ERR] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at calcalc.Controllers.FoodUnitController.Edit(Int32 id, FoodUnitEditViewmodel foodUnit) in /Users/erlend/Documents/calcalc/calcalc/Controllers/FoodUnitController.cs:line 99
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-14 15:17:17.469 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:17:17.472 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:17:17.488 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:17:17.490 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:17:17.506 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:17:17.512 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:17:17.513 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:17:17.516 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:17:17.517 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:18:17.604 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:18:17.617 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:18:17.617 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:18:17.617 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:18:17.623 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:18:17.624 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:18:17.624 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:18:17.628 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:18:17.628 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:18:47.294 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20268:7482090b caught stopping signal...
2025-08-14 15:18:47.307 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20268:7482090b All dispatchers stopped
2025-08-14 15:18:47.312 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20268:7482090b successfully reported itself as stopped in 0,9375 ms
2025-08-14 15:18:47.312 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20268:7482090b has been stopped in total 10,8322 ms
2025-08-14 15:19:13.768 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 15:19:14.012 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 15:19:14.313 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20326:150b0109 successfully announced in 218,488 ms
2025-08-14 15:19:14.321 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20326:150b0109 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 15:19:14.431 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 15:19:14.539 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20326:150b0109 all the dispatchers started
2025-08-14 15:19:14.603 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 15:19:14.603 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 15:19:14.724 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 15:19:14.724 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 15:19:14.726 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 15:19:14.727 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 15:19:14.728 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 15:19:14.728 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 15:19:14.729 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 15:19:14.729 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 15:19:14.730 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 15:19:14.731 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 15:19:14.733 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 15:19:14.733 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 15:19:14.738 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 15:19:29.872 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:19:30.761 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:19:30.762 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:19:30.764 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:19:35.392 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:19:35.716 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:19:35.716 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:19:36.385 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:19:36.432 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:20:21.504 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:20:21.517 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:20:21.521 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:20:21.528 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:20:21.551 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:20:21.557 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:20:21.557 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:20:21.560 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:20:21.560 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:21:21.593 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:21:21.596 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:21:21.596 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:21:21.596 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:21:21.717 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:21:21.724 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:21:21.724 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:21:21.726 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:21:21.726 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:22:06.821 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:22:06.821 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:22:06.822 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:22:06.822 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:22:06.824 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:22:06.827 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:22:06.828 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:22:06.830 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:22:06.830 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:23:06.865 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:23:06.866 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:23:06.866 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:23:06.866 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:23:06.897 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:23:06.898 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:23:06.898 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:23:06.899 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:23:06.899 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:24:06.920 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:24:06.922 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:24:06.922 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:24:06.922 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:24:06.953 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:24:06.967 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:24:06.967 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:24:06.971 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:24:06.971 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:25:07.050 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:25:07.050 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:25:07.050 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:25:07.051 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:25:07.063 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:25:07.063 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:25:07.063 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:25:07.064 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:25:07.064 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:26:07.108 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:26:07.116 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:26:07.116 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:26:07.116 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:26:07.156 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:26:07.165 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:26:07.165 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:26:07.168 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:26:07.168 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:27:02.511 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 15:27:07.203 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:27:07.205 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:27:07.205 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:27:07.205 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:27:07.212 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:27:07.215 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:27:07.215 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:27:07.217 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:27:07.217 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:28:09.120 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 15:28:09.269 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 15:28:09.472 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20501:1e682695 successfully announced in 167,249 ms
2025-08-14 15:28:09.482 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20501:1e682695 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 15:28:09.485 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 15:28:09.525 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 15:28:09.525 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 15:28:09.533 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20501:1e682695 all the dispatchers started
2025-08-14 15:28:09.540 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 15:28:09.544 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 15:28:09.549 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 15:28:09.549 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 15:28:09.553 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 15:28:09.553 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 15:28:09.555 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 15:28:09.555 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 15:28:09.570 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 15:28:09.570 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 15:28:09.575 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 15:28:09.576 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 15:28:09.580 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 15:28:24.598 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:28:24.902 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:28:24.910 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:28:24.912 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:28:27.484 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:28:28.043 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:28:28.043 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:28:28.340 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:28:28.350 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:28:32.895 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 15:29:13.386 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:29:13.389 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:29:13.389 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:29:13.390 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:29:13.401 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:29:13.403 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:29:13.403 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:29:13.405 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:29:13.406 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:30:13.429 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:30:13.431 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:30:13.431 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:30:13.431 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:30:13.433 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:30:13.434 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:30:13.434 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:30:13.435 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:30:13.435 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:31:13.452 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:31:13.452 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:31:13.452 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:31:13.452 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:31:13.455 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:31:13.455 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:31:13.455 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:31:13.457 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:31:13.457 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:32:13.477 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:32:13.477 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:32:13.478 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:32:13.478 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:32:13.479 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:32:13.480 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:32:13.480 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:32:13.480 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:32:13.481 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:33:09.496 +02:00 [INF] Hangfire.Server.ServerWatchdog 1 servers were removed due to timeout
2025-08-14 15:33:13.501 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:33:13.502 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:33:13.502 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:33:13.502 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:33:13.503 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:33:13.504 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:33:13.504 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:33:13.505 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:33:13.505 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:34:13.524 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:34:13.524 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:34:13.524 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:34:13.524 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:34:13.526 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:34:13.527 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:34:13.527 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:34:13.528 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:34:13.528 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:35:13.546 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:35:13.546 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:35:13.546 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:35:13.546 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:35:13.548 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:35:13.549 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:35:13.549 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:35:13.550 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:35:13.550 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:36:13.571 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:36:13.571 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:36:13.572 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:36:13.572 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:36:13.573 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:36:13.574 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:36:13.574 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:36:13.575 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:36:13.575 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:37:13.593 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:37:13.594 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:37:13.594 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:37:13.594 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:37:13.595 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:37:13.596 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:37:13.596 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:37:13.597 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:37:13.597 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:38:13.622 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:38:13.622 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:38:13.622 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:38:13.622 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:38:13.624 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:38:13.624 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:38:13.624 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:38:13.625 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:38:13.625 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:39:13.644 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:39:13.644 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:39:13.644 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:39:13.644 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:39:13.646 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:39:13.647 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:39:13.647 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:39:13.648 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:39:13.648 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:40:13.665 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:40:13.665 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:40:13.666 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:40:13.666 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:40:13.667 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:40:13.668 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:40:13.668 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:40:13.669 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:40:13.669 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:41:13.692 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:41:13.695 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:41:13.696 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:41:13.696 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:41:13.719 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:41:13.728 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:41:13.728 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:41:13.730 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:41:13.730 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:42:13.766 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:42:13.766 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:42:13.766 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:42:13.766 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:42:13.768 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:42:13.768 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:42:13.769 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:42:13.769 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:42:13.769 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:43:13.789 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:43:13.789 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:43:13.789 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:43:13.789 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:43:13.790 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:43:13.791 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:43:13.791 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:43:13.792 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:43:13.792 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:44:13.810 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:44:13.810 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:44:13.810 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:44:13.810 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:44:13.812 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:44:13.812 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:44:13.812 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:44:13.813 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:44:13.813 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:45:13.832 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:45:13.832 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:45:13.832 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:45:13.832 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:45:13.834 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:45:13.834 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:45:13.834 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:45:13.835 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:45:13.835 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:46:13.852 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:46:13.853 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:46:13.853 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:46:13.853 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:46:13.854 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:46:13.855 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:46:13.855 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:46:13.856 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:46:13.856 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:47:13.876 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:47:13.876 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:47:13.876 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:47:13.876 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:47:13.878 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:47:13.879 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:47:13.879 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:47:13.880 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:47:13.880 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:48:13.898 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:48:13.898 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:48:13.898 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:48:13.898 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:48:13.900 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:48:13.900 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:48:13.900 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:48:13.901 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:48:13.901 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:49:13.912 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:49:13.913 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:49:13.913 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:49:13.913 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:49:13.915 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:49:13.915 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:49:13.915 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:49:13.916 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:49:13.916 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:50:13.933 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:50:13.934 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:50:13.934 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:50:13.934 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:50:13.935 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:50:13.936 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:50:13.936 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:50:13.937 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:50:13.937 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:51:13.968 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:51:13.969 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:51:13.969 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:51:13.969 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:51:13.970 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:51:13.971 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:51:13.971 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:51:13.972 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:51:13.972 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:52:13.989 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:52:13.990 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:52:13.990 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:52:13.990 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:52:13.991 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:52:13.992 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:52:13.992 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:52:13.993 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:52:13.993 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:53:14.024 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:53:14.026 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:53:14.026 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:53:14.026 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:53:14.028 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:53:14.028 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:53:14.028 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:53:14.029 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:53:14.029 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:54:14.043 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:54:14.043 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:54:14.043 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:54:14.043 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:54:14.045 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:54:14.045 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:54:14.045 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:54:14.046 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:54:14.046 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:55:14.078 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:55:14.079 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:55:14.079 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:55:14.079 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:55:14.081 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:55:14.088 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:55:14.088 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:55:14.090 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:55:14.090 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:56:14.113 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:56:14.113 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:56:14.113 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:56:14.113 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:56:14.114 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:56:14.115 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:56:14.115 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:56:14.116 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:56:14.117 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:57:14.131 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:57:14.131 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:57:14.132 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:57:14.132 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:57:14.134 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:57:14.135 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:57:14.135 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:57:14.138 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:57:14.139 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:58:14.163 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:58:14.163 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:58:14.163 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:58:14.163 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:58:14.164 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:58:14.165 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:58:14.165 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:58:14.165 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:58:14.165 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 15:59:14.183 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 15:59:14.184 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 15:59:14.184 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 15:59:14.184 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 15:59:14.185 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 15:59:14.185 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 15:59:14.185 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 15:59:14.186 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 15:59:14.186 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:00:14.210 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:00:14.210 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:00:14.210 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:00:14.210 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:00:14.212 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:00:14.213 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:00:14.213 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:00:14.213 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:00:14.213 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:01:14.231 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:01:14.232 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:01:14.232 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:01:14.232 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:01:14.233 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:01:14.233 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:01:14.233 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:01:14.234 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:01:14.234 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:02:14.264 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:02:14.264 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:02:14.264 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:02:14.264 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:02:14.271 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:02:14.272 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:02:14.272 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:02:14.273 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:02:14.273 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:02:53.535 +02:00 [FTL] calcalc.Controllers.CalculateController DETTE ER EN FEIL!
2025-08-14 16:02:53.942 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 16:03:14.294 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:03:14.295 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:03:14.295 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:03:14.295 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:03:14.297 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:03:14.297 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:03:14.297 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:03:14.298 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:03:14.298 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:04:14.320 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:04:14.321 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:04:14.321 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:04:14.321 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:04:14.342 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:04:14.343 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:04:14.343 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:04:14.348 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:04:14.348 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:05:14.366 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:05:14.367 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:05:14.367 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:05:14.367 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:05:14.368 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:05:14.369 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:05:14.369 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:05:14.370 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:05:14.370 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:06:14.397 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:06:14.397 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:06:14.398 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:06:14.398 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:06:14.399 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:06:14.400 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:06:14.400 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:06:14.401 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:06:14.401 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:07:14.427 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:07:14.429 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:07:14.429 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:07:14.433 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:07:14.451 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:07:14.458 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:07:14.458 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:07:14.459 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:07:14.459 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:08:14.505 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:08:14.514 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:08:14.514 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:08:14.514 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:08:14.530 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:08:14.531 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:08:14.532 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:08:14.532 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:08:14.532 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:09:14.550 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:09:14.552 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:09:14.552 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:09:14.552 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:09:14.555 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:09:14.556 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:09:14.556 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:09:14.558 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:09:14.558 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:10:14.577 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:10:14.578 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:10:14.578 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:10:14.578 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:10:14.579 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:10:14.579 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:10:14.579 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:10:14.580 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:10:14.580 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:11:14.601 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:11:14.609 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:11:14.609 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:11:14.609 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:11:14.617 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:11:14.620 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:11:14.620 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:11:14.621 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:11:14.621 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:12:14.652 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:12:14.652 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:12:14.652 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:12:14.652 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:12:14.654 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:12:14.654 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:12:14.654 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:12:14.655 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:12:14.655 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:13:14.679 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:13:14.694 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:13:14.694 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:13:14.694 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:13:14.708 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:13:14.708 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:13:14.708 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:13:14.709 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:13:14.709 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:14:14.732 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:14:14.734 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:14:14.734 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:14:14.734 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:14:14.736 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:14:14.736 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:14:14.736 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:14:14.737 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:14:14.737 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:15:14.753 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:15:14.754 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:15:14.754 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:15:14.754 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:15:14.755 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:15:14.756 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:15:14.756 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:15:14.757 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:15:14.757 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:16:14.784 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:16:14.785 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:16:14.785 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:16:14.785 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:16:14.786 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:16:14.787 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:16:14.787 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:16:14.787 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:16:14.787 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:17:14.812 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:17:14.812 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:17:14.812 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:17:14.812 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:17:14.824 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:17:14.825 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:17:14.826 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:17:14.828 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:17:14.829 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:18:14.851 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:18:14.852 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:18:14.852 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:18:14.852 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:18:14.853 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:18:14.853 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:18:14.853 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:18:14.854 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:18:14.854 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:19:14.879 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:19:14.881 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:19:14.881 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:19:14.881 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:19:14.882 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:19:14.883 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:19:14.883 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:19:14.883 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:19:14.884 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:20:14.903 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:20:14.911 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:20:14.911 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:20:14.911 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:20:14.914 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:20:14.914 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:20:14.914 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:20:14.921 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:20:14.921 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:20:25.087 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20501:1e682695 caught stopping signal...
2025-08-14 16:20:25.220 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20501:1e682695 All dispatchers stopped
2025-08-14 16:20:25.225 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20501:1e682695 successfully reported itself as stopped in 1,1043 ms
2025-08-14 16:20:25.225 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:20501:1e682695 has been stopped in total 112,9826 ms
2025-08-14 16:20:49.502 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 16:20:49.685 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 16:20:49.899 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21161:bedf80d4 successfully announced in 146,4752 ms
2025-08-14 16:20:49.904 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21161:bedf80d4 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 16:20:49.911 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 16:20:49.932 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21161:bedf80d4 all the dispatchers started
2025-08-14 16:20:49.944 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 16:20:49.945 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 16:20:49.946 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 16:20:49.946 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 16:20:49.950 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 16:20:49.951 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 16:20:49.972 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 16:20:49.972 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 16:20:49.974 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 16:20:49.974 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 16:20:49.975 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 16:20:49.975 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 16:20:49.981 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 16:20:49.981 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 16:20:49.991 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 16:21:17.874 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 16:21:18.401 +02:00 [FTL] calcalc.Controllers.CalculateController DETTE ER EN FEIL!
2025-08-14 16:21:19.970 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:21:19.975 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:21:19.976 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:21:19.992 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:21:20.688 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:21:20.841 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:21:20.841 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:21:20.870 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 16:21:20.946 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:21:20.954 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:21:38.710 +02:00 [FTL] calcalc.Controllers.CalculateController DETTE ER EN FEIL!
2025-08-14 16:21:43.137 +02:00 [FTL] calcalc.Controllers.CalculateController DETTE ER EN FEIL!
2025-08-14 16:22:06.060 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:22:06.063 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:22:06.071 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:22:06.072 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:22:06.089 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:22:06.100 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:22:06.100 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:22:06.104 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:22:06.104 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:23:06.171 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:23:06.185 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:23:06.185 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:23:06.188 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:23:06.215 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:23:06.217 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:23:06.218 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:23:06.220 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 0 units
2025-08-14 16:23:06.220 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:23:44.232 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21161:bedf80d4 caught stopping signal...
2025-08-14 16:23:44.241 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21161:bedf80d4 All dispatchers stopped
2025-08-14 16:23:44.245 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21161:bedf80d4 successfully reported itself as stopped in 1,6046 ms
2025-08-14 16:23:44.245 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21161:bedf80d4 has been stopped in total 12,1453 ms
2025-08-14 16:24:04.117 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 16:24:04.350 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 16:24:04.823 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21212:cd26a726 successfully announced in 384,3715 ms
2025-08-14 16:24:04.841 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21212:cd26a726 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 16:24:04.932 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 16:24:05.183 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21212:cd26a726 all the dispatchers started
2025-08-14 16:24:05.294 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 16:24:05.294 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 16:24:05.297 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 16:24:05.297 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 16:24:05.419 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 16:24:05.420 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 16:24:05.528 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 16:24:05.529 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 16:24:05.534 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 16:24:05.534 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 16:24:05.536 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 16:24:05.536 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 16:24:05.539 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 16:24:05.539 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 16:24:05.542 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 16:24:06.925 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 16:24:07.920 +02:00 [FTL] calcalc.Controllers.CalculateController DETTE ER EN FEIL!
2025-08-14 16:24:11.489 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 16:32:34.286 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 16:32:34.404 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 16:32:34.454 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21338:801efd04 successfully announced in 17,1835 ms
2025-08-14 16:32:34.458 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21338:801efd04 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 16:32:34.463 +02:00 [INF] Hangfire.Server.ServerWatchdog 1 servers were removed due to timeout
2025-08-14 16:32:34.466 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 16:32:34.489 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 16:32:34.490 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 16:32:34.494 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 16:32:34.494 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 16:32:34.496 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 16:32:34.496 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 16:32:34.499 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 16:32:34.500 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 16:32:34.500 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21338:801efd04 all the dispatchers started
2025-08-14 16:32:34.501 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 16:32:34.501 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 16:32:34.503 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 16:32:34.503 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 16:32:34.505 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 16:32:34.505 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 16:32:34.508 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 16:32:34.591 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:32:34.787 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:32:34.788 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:32:34.789 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:32:36.765 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:32:37.058 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 1
2025-08-14 16:32:37.058 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:32:37.249 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 1 units
2025-08-14 16:32:37.256 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:32:37.285 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:32:37.287 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:32:37.287 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:32:37.287 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:32:37.380 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:32:37.383 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:32:37.383 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:32:37.482 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1458': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 112
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 116
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 16:32:46.884 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21338:801efd04 caught stopping signal...
2025-08-14 16:32:46.975 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21338:801efd04 All dispatchers stopped
2025-08-14 16:32:47.004 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21338:801efd04 successfully reported itself as stopped in 3,7464 ms
2025-08-14 16:32:47.004 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21338:801efd04 has been stopped in total 111,7985 ms
2025-08-14 16:35:56.471 +02:00 [ERR] Microsoft.Extensions.Hosting.Internal.Host Hosting failed to start
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-08-14 16:36:04.096 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 16:36:04.234 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 16:36:04.288 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21397:77f70d2a successfully announced in 17,6449 ms
2025-08-14 16:36:04.292 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21397:77f70d2a is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 16:36:04.298 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 16:36:04.318 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21397:77f70d2a all the dispatchers started
2025-08-14 16:36:04.320 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 16:36:04.320 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 16:36:04.326 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 16:36:04.327 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 16:36:04.328 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 16:36:04.329 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 16:36:04.330 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 16:36:04.330 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 16:36:04.331 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 16:36:04.331 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 16:36:04.334 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 16:36:04.334 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 16:36:04.336 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 16:36:04.336 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 16:36:04.339 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 16:36:07.076 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 16:36:19.368 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:36:19.630 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:36:19.631 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:36:19.632 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:36:22.266 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:36:22.353 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:36:22.353 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:36:22.608 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1461': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 112
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 116
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 16:36:37.738 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21397:77f70d2a caught stopping signal...
2025-08-14 16:36:37.747 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21397:77f70d2a All dispatchers stopped
2025-08-14 16:36:37.750 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21397:77f70d2a successfully reported itself as stopped in 0,7868 ms
2025-08-14 16:36:37.750 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21397:77f70d2a has been stopped in total 7,6523 ms
2025-08-14 16:36:51.534 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 16:36:51.674 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 16:36:51.727 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21439:df284a5d successfully announced in 18,3303 ms
2025-08-14 16:36:51.733 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21439:df284a5d is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 16:36:51.744 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 16:36:51.758 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21439:df284a5d all the dispatchers started
2025-08-14 16:36:51.760 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 16:36:51.760 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 16:36:51.773 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 16:36:51.774 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 16:36:51.775 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 16:36:51.775 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 16:36:51.778 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 16:36:51.778 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 16:36:51.779 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 16:36:51.779 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 16:36:51.781 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 16:36:51.781 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 16:36:51.783 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 16:36:51.783 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 16:36:51.785 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 16:37:05.103 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 16:37:21.787 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:37:21.946 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:37:21.947 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:37:21.949 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:37:24.325 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:37:24.419 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:37:24.420 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:37:24.695 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1463': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 112
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 116
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 16:38:09.734 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:38:09.736 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:38:09.736 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:38:09.737 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:38:09.770 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:38:09.771 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:38:09.771 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:38:09.777 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1464': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 112
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 116
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 16:38:29.490 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21439:df284a5d caught stopping signal...
2025-08-14 16:38:29.495 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21439:df284a5d All dispatchers stopped
2025-08-14 16:38:29.500 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21439:df284a5d successfully reported itself as stopped in 2,5617 ms
2025-08-14 16:38:29.500 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21439:df284a5d has been stopped in total 9,4505 ms
efaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-08-14 16:38:39.588 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 16:38:39.638 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 16:38:39.694 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21478:ae34f634 successfully announced in 24,8835 ms
2025-08-14 16:38:39.701 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21478:ae34f634 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 16:38:39.705 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 16:38:39.726 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 16:38:39.726 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 16:38:39.729 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 16:38:39.729 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 16:38:39.731 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 16:38:39.732 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 16:38:39.734 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 16:38:39.734 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 16:38:39.736 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 16:38:39.736 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 16:38:39.738 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21478:ae34f634 all the dispatchers started
2025-08-14 16:38:39.738 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 16:38:39.738 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 16:38:39.740 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 16:38:39.740 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 16:38:39.751 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 16:38:47.715 +02:00 [WRN] Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery Antiforgery validation failed with message '"The antiforgery cookie token and request token do not match."'.
2025-08-14 16:38:50.971 +02:00 [WRN] Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery Antiforgery validation failed with message '"The antiforgery cookie token and request token do not match."'.
2025-08-14 16:39:13.876 +02:00 [WRN] Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery Antiforgery validation failed with message '"The antiforgery cookie token and request token do not match."'.
2025-08-14 16:39:20.708 +02:00 [WRN] Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery Antiforgery validation failed with message '"The antiforgery cookie token and request token do not match."'.
2025-08-14 16:39:24.774 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:39:24.948 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:39:24.957 +02:00 [INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request "GET" "https://www.matvaretabellen.no/api/nb/foods.json"
2025-08-14 16:39:24.958 +02:00 [INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request "GET" "https://www.matvaretabellen.no/api/nb/foods.json"
2025-08-14 16:39:25.368 +02:00 [INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 404.8047ms - 200
2025-08-14 16:39:25.370 +02:00 [INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 417.6183ms - 200
2025-08-14 16:39:26.923 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:39:29.073 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:39:31.877 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 2137
2025-08-14 16:39:31.877 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:39:32.092 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1467': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 112
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 116
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 16:40:15.184 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21478:ae34f634 caught stopping signal...
2025-08-14 16:40:15.190 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21478:ae34f634 All dispatchers stopped
2025-08-14 16:40:15.194 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21478:ae34f634 successfully reported itself as stopped in 1,0219 ms
2025-08-14 16:40:15.194 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21478:ae34f634 has been stopped in total 8,9682 ms
2025-08-14 16:40:24.209 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 16:40:24.264 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 16:40:24.315 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21503:8ac4be05 successfully announced in 22,398 ms
2025-08-14 16:40:24.322 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21503:8ac4be05 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 16:40:24.326 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 16:40:24.340 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 16:40:24.340 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 16:40:24.343 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 16:40:24.344 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 16:40:24.346 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 16:40:24.346 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 16:40:24.356 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 16:40:24.356 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 16:40:24.358 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 16:40:24.358 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 16:40:24.360 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 16:40:24.360 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 16:40:24.362 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 16:40:24.362 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 16:40:24.365 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 16:40:24.366 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21503:8ac4be05 all the dispatchers started
2025-08-14 16:40:24.447 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:40:24.635 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:40:24.651 +02:00 [INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request "GET" "https://www.matvaretabellen.no/api/nb/foods.json"
2025-08-14 16:40:24.654 +02:00 [INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request "GET" "https://www.matvaretabellen.no/api/nb/foods.json"
2025-08-14 16:40:24.978 +02:00 [INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 308.5399ms - 200
2025-08-14 16:40:25.005 +02:00 [INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 365.9131ms - 200
2025-08-14 16:40:27.089 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:40:29.834 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:40:31.319 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:40:31.324 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:40:31.737 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1468': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 112
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 116
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 16:40:42.767 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21503:8ac4be05 caught stopping signal...
2025-08-14 16:40:42.893 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21503:8ac4be05 All dispatchers stopped
2025-08-14 16:40:42.948 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21503:8ac4be05 successfully reported itself as stopped in 7,4723 ms
2025-08-14 16:40:42.948 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21503:8ac4be05 has been stopped in total 174,7891 ms
2025-08-14 16:41:03.283 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 16:41:03.366 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 16:41:03.497 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21527:4c5148d2 successfully announced in 32,7009 ms
2025-08-14 16:41:03.530 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21527:4c5148d2 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 16:41:03.557 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 16:41:03.757 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 16:41:03.757 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 16:41:03.775 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 16:41:03.775 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 16:41:03.786 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 16:41:03.786 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 16:41:03.786 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21527:4c5148d2 all the dispatchers started
2025-08-14 16:41:03.794 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 16:41:03.794 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 16:41:03.799 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 16:41:03.799 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 16:41:03.811 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 16:41:03.811 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 16:41:03.852 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 16:41:03.852 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 16:41:03.855 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 16:41:18.752 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:41:19.146 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:41:19.165 +02:00 [INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request "GET" "https://www.matvaretabellen.no/api/nb/foods.json"
2025-08-14 16:41:19.168 +02:00 [INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request "GET" "https://www.matvaretabellen.no/api/nb/foods.json"
2025-08-14 16:41:19.803 +02:00 [INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 629.2926ms - 200
2025-08-14 16:41:19.809 +02:00 [INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 656.7301ms - 200
2025-08-14 16:41:21.523 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:41:24.451 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:41:25.833 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:41:25.833 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:43:34.487 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 16:43:34.542 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 16:43:34.594 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21580:26b1124d successfully announced in 20,2913 ms
2025-08-14 16:43:34.599 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21580:26b1124d is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 16:43:34.602 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 16:43:34.620 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 16:43:34.620 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 16:43:34.623 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 16:43:34.623 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 16:43:34.628 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 16:43:34.628 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 16:43:34.634 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 16:43:34.634 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 16:43:34.634 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21580:26b1124d all the dispatchers started
2025-08-14 16:43:34.637 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 16:43:34.637 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 16:43:34.639 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 16:43:34.640 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 16:43:34.644 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 16:43:34.644 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 16:43:34.646 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 16:43:49.657 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:43:49.836 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:43:49.850 +02:00 [INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request "GET" "https://www.matvaretabellen.no/api/nb/foods.json"
2025-08-14 16:43:49.853 +02:00 [INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request "GET" "https://www.matvaretabellen.no/api/nb/foods.json"
2025-08-14 16:43:50.935 +02:00 [INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 1077.2225ms - 200
2025-08-14 16:43:50.938 +02:00 [INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 1097.8798ms - 200
2025-08-14 16:43:53.800 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:43:56.051 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:43:57.484 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:43:57.484 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:43:57.691 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1473': an exception occurred.
System.NullReferenceException: Object reference not set to an instance of an object.
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 104
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 116
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 16:44:12.734 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:44:12.736 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:44:12.737 +02:00 [INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request "GET" "https://www.matvaretabellen.no/api/nb/foods.json"
2025-08-14 16:44:12.737 +02:00 [INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request "GET" "https://www.matvaretabellen.no/api/nb/foods.json"
2025-08-14 16:44:13.554 +02:00 [INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 816.1211ms - 200
2025-08-14 16:44:13.554 +02:00 [INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 817.7034ms - 200
2025-08-14 16:44:16.634 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:44:16.739 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:44:17.589 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:44:17.589 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:44:17.599 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1474': an exception occurred.
System.NullReferenceException: Object reference not set to an instance of an object.
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 104
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 116
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 16:44:57.165 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21580:26b1124d caught stopping signal...
2025-08-14 16:44:57.174 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21580:26b1124d All dispatchers stopped
2025-08-14 16:44:57.181 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21580:26b1124d successfully reported itself as stopped in 1,4203 ms
2025-08-14 16:44:57.181 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21580:26b1124d has been stopped in total 14,1165 ms
2025-08-14 16:45:02.849 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 16:45:02.896 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 16:45:02.944 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21613:7f6c6558 successfully announced in 22,1056 ms
2025-08-14 16:45:02.948 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21613:7f6c6558 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 16:45:02.951 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 16:45:02.975 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 16:45:02.975 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 16:45:02.975 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21613:7f6c6558 all the dispatchers started
2025-08-14 16:45:02.978 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 16:45:02.978 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 16:45:02.980 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 16:45:02.980 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 16:45:02.982 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 16:45:02.982 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 16:45:02.985 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 16:45:02.985 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 16:45:02.986 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 16:45:02.986 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 16:45:02.989 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 16:45:02.989 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 16:45:02.991 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 16:45:18.005 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:45:18.176 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:45:18.191 +02:00 [INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request "GET" "https://www.matvaretabellen.no/api/nb/foods.json"
2025-08-14 16:45:18.194 +02:00 [INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request "GET" "https://www.matvaretabellen.no/api/nb/foods.json"
2025-08-14 16:45:19.180 +02:00 [INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 981.09ms - 200
2025-08-14 16:45:19.186 +02:00 [INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 1004.9251ms - 200
2025-08-14 16:45:22.662 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:45:24.743 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:45:25.840 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:45:25.840 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:45:40.596 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 4664 units
2025-08-14 16:45:40.605 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:45:49.589 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:45:49.595 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:45:49.596 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:45:49.601 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:45:49.587 +02:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
System.IO.FileNotFoundException: Could not find file '/Users/erlend/Documents/calcalc/calcalc/wwwroot/calcalc.styles.css'.
File name: '/Users/erlend/Documents/calcalc/calcalc/wwwroot/calcalc.styles.css'
   at System.IO.FileInfo.get_Length()
   at Microsoft.AspNetCore.Builder.StaticAssetDevelopmentRuntimeHandler.<>c__DisplayClass3_0.<<AttachRuntimePatching>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-14 16:45:49.612 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:45:49.939 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:46:03.734 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:46:03.734 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:46:03.740 +02:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
System.IO.FileNotFoundException: Could not find file '/Users/erlend/Documents/calcalc/calcalc/wwwroot/calcalc.styles.css'.
File name: '/Users/erlend/Documents/calcalc/calcalc/wwwroot/calcalc.styles.css'
   at System.IO.FileInfo.get_Length()
   at Microsoft.AspNetCore.Builder.StaticAssetDevelopmentRuntimeHandler.<>c__DisplayClass3_0.<<AttachRuntimePatching>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-14 16:46:03.743 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:46:03.773 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:46:03.899 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:46:03.921 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:46:06.280 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 16:46:06.604 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:46:06.604 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:46:06.604 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:46:06.604 +02:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
System.IO.FileNotFoundException: Could not find file '/Users/erlend/Documents/calcalc/calcalc/wwwroot/calcalc.styles.css'.
File name: '/Users/erlend/Documents/calcalc/calcalc/wwwroot/calcalc.styles.css'
   at System.IO.FileInfo.get_Length()
   at Microsoft.AspNetCore.Builder.StaticAssetDevelopmentRuntimeHandler.<>c__DisplayClass3_0.<<AttachRuntimePatching>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-14 16:46:06.604 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:46:06.612 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:46:06.685 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:46:08.272 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:46:08.273 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:46:08.273 +02:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
System.IO.FileNotFoundException: Could not find file '/Users/erlend/Documents/calcalc/calcalc/wwwroot/calcalc.styles.css'.
File name: '/Users/erlend/Documents/calcalc/calcalc/wwwroot/calcalc.styles.css'
   at System.IO.FileInfo.get_Length()
   at Microsoft.AspNetCore.Builder.StaticAssetDevelopmentRuntimeHandler.<>c__DisplayClass3_0.<<AttachRuntimePatching>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-14 16:46:08.275 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:46:08.275 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:46:08.277 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:46:08.378 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:46:10.638 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:46:10.639 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:46:10.640 +02:00 [INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request "GET" "https://www.matvaretabellen.no/api/nb/foods.json"
2025-08-14 16:46:10.640 +02:00 [INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request "GET" "https://www.matvaretabellen.no/api/nb/foods.json"
2025-08-14 16:46:10.911 +02:00 [INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 271.1501ms - 200
2025-08-14 16:46:10.911 +02:00 [INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 271.6464ms - 200
2025-08-14 16:46:12.758 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21613:7f6c6558 caught stopping signal...
2025-08-14 16:46:12.918 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:46:12.921 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:46:13.298 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21613:7f6c6558 caught stopped signal...
2025-08-14 16:46:13.650 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:46:13.650 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:46:13.666 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1477': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 112
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 116
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 16:46:13.682 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21613:7f6c6558 All dispatchers stopped
2025-08-14 16:46:13.685 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21613:7f6c6558 successfully reported itself as stopped in 0,8648 ms
2025-08-14 16:46:13.685 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21613:7f6c6558 has been stopped in total 923,9047 ms
2025-08-14 16:46:56.949 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 16:46:57.279 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 16:46:57.890 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21675:1526c359 successfully announced in 509,6482 ms
2025-08-14 16:46:57.907 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21675:1526c359 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 16:46:57.942 +02:00 [INF] Hangfire.Server.ServerWatchdog 1 servers were removed due to timeout
2025-08-14 16:46:57.950 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 16:46:57.987 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 16:46:57.987 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 16:46:57.995 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 16:46:57.995 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 16:46:58.005 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 16:46:58.005 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 16:46:58.007 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 16:46:58.008 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 16:46:58.011 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 16:46:58.012 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 16:46:58.017 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 16:46:58.018 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 16:46:58.022 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 16:46:58.022 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 16:46:58.027 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 16:46:58.092 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21675:1526c359 all the dispatchers started
2025-08-14 16:47:03.339 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:47:03.342 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:47:03.342 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:47:03.342 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:47:03.351 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:47:03.339 +02:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
System.IO.FileNotFoundException: Could not find file '/Users/erlend/Documents/calcalc/calcalc/wwwroot/calcalc.styles.css'.
File name: '/Users/erlend/Documents/calcalc/calcalc/wwwroot/calcalc.styles.css'
   at System.IO.FileInfo.get_Length()
   at Microsoft.AspNetCore.Builder.StaticAssetDevelopmentRuntimeHandler.<>c__DisplayClass3_0.<<AttachRuntimePatching>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-08-14 16:47:04.695 +02:00 [WRN] Microsoft.AspNetCore.StaticAssets.StaticAssetsInvoker The application is not running against the published output and Static Web Assets are not enabled. To configure static web assets in other environments, call 'StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment, IConfiguration)' to enable them.
2025-08-14 16:47:28.015 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:47:28.032 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:47:28.043 +02:00 [INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request "GET" "https://www.matvaretabellen.no/api/nb/foods.json"
2025-08-14 16:47:28.045 +02:00 [INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request "GET" "https://www.matvaretabellen.no/api/nb/foods.json"
2025-08-14 16:47:30.187 +02:00 [INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 2120.8229ms - 200
2025-08-14 16:47:30.206 +02:00 [INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 2168.2978ms - 200
2025-08-14 16:47:31.389 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21675:1526c359 caught stopping signal...
2025-08-14 16:47:32.255 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21675:1526c359 caught stopped signal...
2025-08-14 16:47:32.894 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:47:32.970 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:47:41.536 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 16:47:41.678 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 16:47:41.885 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21694:1358dc8e successfully announced in 170,4776 ms
2025-08-14 16:47:41.892 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21694:1358dc8e is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 16:47:41.898 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 16:47:41.915 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21694:1358dc8e all the dispatchers started
2025-08-14 16:47:41.924 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 16:47:41.924 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 16:47:41.930 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 16:47:41.931 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 16:47:41.933 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 16:47:41.933 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 16:47:41.934 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 16:47:41.934 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 16:47:41.936 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 16:47:41.936 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 16:47:41.937 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 16:47:41.937 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 16:47:41.939 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 16:47:41.939 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 16:47:41.941 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 16:48:08.813 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 16:48:14.586 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 16:48:23.631 +02:00 [FTL] calcalc.Controllers.CalculateController DETTE ER EN FEIL!
2025-08-14 16:48:23.717 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 16:48:26.943 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:48:26.947 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:48:26.948 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:48:26.949 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:48:27.048 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:48:27.081 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:48:27.081 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:48:27.608 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding units to food items to database, added 1 units
2025-08-14 16:48:27.612 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: End
2025-08-14 16:48:37.177 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 16:48:45.459 +02:00 [FTL] calcalc.Controllers.CalculateController DETTE ER EN FEIL!
2025-08-14 16:48:45.468 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 16:48:52.877 +02:00 [FTL] calcalc.Controllers.CalculateController DETTE ER EN FEIL!
2025-08-14 16:49:06.677 +02:00 [FTL] calcalc.Controllers.CalculateController DETTE ER EN FEIL!
2025-08-14 16:49:09.973 +02:00 [FTL] calcalc.Controllers.CalculateController DETTE ER EN FEIL!
2025-08-14 16:49:12.658 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:49:12.660 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:49:12.668 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:49:12.668 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:49:12.674 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:49:12.675 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:49:12.676 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:49:12.693 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1480': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 112
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync() in /Users/erlend/Documents/calcalc/calcalc/BackgroundJobs/MattilsynetSync.cs:line 116
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 16:49:50.911 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21694:1358dc8e caught stopping signal...
2025-08-14 16:49:51.052 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21694:1358dc8e All dispatchers stopped
2025-08-14 16:49:51.137 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21694:1358dc8e successfully reported itself as stopped in 6,4119 ms
2025-08-14 16:49:51.137 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21694:1358dc8e has been stopped in total 202,0361 ms
2025-08-14 16:50:14.525 +02:00 [INF] Hangfire.BackgroundJobServer Starting Hangfire Server using job storage: 'Database path: hangfire_taskqueue,  prefix: hangfire'
2025-08-14 16:50:14.686 +02:00 [INF] Hangfire.BackgroundJobServer Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-14 16:50:15.177 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21765:e3a04cde successfully announced in 402,9164 ms
2025-08-14 16:50:15.187 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21765:e3a04cde is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-14 16:50:15.274 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'AggregatedCounter' table...
2025-08-14 16:50:15.379 +02:00 [INF] Hangfire.Server.BackgroundServerProcess Server mbp-von-erlend:21765:e3a04cde all the dispatchers started
2025-08-14 16:50:15.416 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'AggregatedCounter' table...
2025-08-14 16:50:15.416 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Counter' table...
2025-08-14 16:50:15.417 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Counter' table...
2025-08-14 16:50:15.448 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Job' table...
2025-08-14 16:50:15.543 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Job' table...
2025-08-14 16:50:15.543 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'List' table...
2025-08-14 16:50:15.544 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'List' table...
2025-08-14 16:50:15.544 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Set' table...
2025-08-14 16:50:15.545 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Set' table...
2025-08-14 16:50:15.546 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'Hash' table...
2025-08-14 16:50:15.547 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'Hash' table...
2025-08-14 16:50:15.547 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'State' table...
2025-08-14 16:50:15.553 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'State' table...
2025-08-14 16:50:15.553 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Removing outdated records from the 'JobParameter' table...
2025-08-14 16:50:15.557 +02:00 [INF] Hangfire.Storage.SQLite.ExpirationManager Outdated records removed from the 'JobParameter' table...
2025-08-14 16:50:17.248 +02:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-08-14 16:50:18.261 +02:00 [FTL] calcalc.Controllers.CalculateController DETTE ER EN FEIL!
2025-08-14 16:50:22.030 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 16:52:38.589 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:52:38.593 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:52:38.594 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:52:38.596 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:52:38.689 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:52:39.105 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:52:39.105 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:52:42.807 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1481': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 16:52:42.890 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:52:42.892 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:52:42.893 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:52:42.893 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:52:42.954 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:52:42.956 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:52:42.956 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:52:44.718 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1482': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 16:52:46.329 +02:00 [FTL] calcalc.Controllers.CalculateController DETTE ER EN FEIL!
2025-08-14 16:52:54.014 +02:00 [FTL] calcalc.Controllers.CalculateController DETTE ER EN FEIL!
2025-08-14 16:53:06.197 +02:00 [FTL] calcalc.Controllers.CalculateController DETTE ER EN FEIL!
2025-08-14 16:53:06.248 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 16:53:14.273 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 16:53:14.733 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:53:14.734 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:53:14.734 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:53:14.734 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:53:14.737 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:53:14.738 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:53:14.738 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:53:15.233 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1483': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 16:53:18.822 +02:00 [WRN] Microsoft.EntityFrameworkCore.Query Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-14 16:53:34.486 +02:00 [FTL] calcalc.Controllers.CalculateController DETTE ER EN FEIL!
2025-08-14 16:54:08.239 +02:00 [FTL] calcalc.Controllers.CalculateController DETTE ER EN FEIL!
2025-08-14 16:54:11.711 +02:00 [FTL] calcalc.Controllers.CalculateController DETTE ER EN FEIL!
2025-08-14 16:54:15.257 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:54:15.257 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:54:15.257 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:54:15.257 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:54:15.260 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:54:15.261 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:54:15.261 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:54:15.639 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1484': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 16:54:40.439 +02:00 [FTL] calcalc.Controllers.CalculateController DETTE ER EN FEIL!
2025-08-14 16:55:15.286 +02:00 [INF] Hangfire.Server.ServerWatchdog 1 servers were removed due to timeout
2025-08-14 16:55:15.685 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:55:15.701 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:55:15.701 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:55:15.703 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:55:15.733 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:55:15.740 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:55:15.740 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:55:16.666 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1485': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 16:56:16.702 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:56:16.703 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:56:16.703 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:56:16.703 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:56:16.738 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:56:16.739 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:56:16.739 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:56:17.109 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1486': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 16:57:17.140 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:57:17.144 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:57:17.144 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:57:17.145 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:57:17.177 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:57:17.178 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:57:17.178 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:57:17.597 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1487': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 16:58:17.623 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:58:17.625 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:58:17.625 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:58:17.625 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:58:17.662 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:58:17.663 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:58:17.663 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:58:18.036 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1488': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 16:59:18.055 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 16:59:18.056 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 16:59:18.056 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 16:59:18.056 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 16:59:18.069 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 16:59:18.070 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 16:59:18.070 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 16:59:18.433 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1489': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:00:18.460 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:00:18.461 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:00:18.461 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:00:18.461 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:00:18.473 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:00:18.474 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:00:18.474 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:00:18.833 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1490': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:01:18.859 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:01:18.859 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:01:18.859 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:01:18.859 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:01:18.871 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:01:18.872 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:01:18.872 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:01:19.224 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1491': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:02:19.244 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:02:19.244 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:02:19.244 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:02:19.244 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:02:19.303 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:02:19.304 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:02:19.304 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:02:19.685 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1492': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:03:19.701 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:03:19.702 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:03:19.702 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:03:19.703 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:03:19.715 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:03:19.716 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:03:19.716 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:03:20.113 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1493': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:04:20.130 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:04:20.131 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:04:20.131 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:04:20.132 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:04:20.169 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:04:20.169 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:04:20.169 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:04:20.512 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1494': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:05:20.384 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:05:20.392 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:05:20.396 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:05:20.396 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:05:20.437 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:05:20.438 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:05:20.438 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:05:20.796 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1495': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:06:20.558 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:06:20.559 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:06:20.559 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:06:20.559 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:06:20.571 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:06:20.571 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:06:20.571 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:06:20.935 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1496': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:07:20.893 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:07:20.894 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:07:20.894 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:07:20.894 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:07:20.906 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:07:20.907 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:07:20.907 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:07:21.281 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1497': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:08:21.047 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:08:21.050 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:08:21.051 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:08:21.051 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:08:21.068 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:08:21.083 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:08:21.083 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:08:21.488 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1498': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:09:21.441 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:09:21.442 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:09:21.442 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:09:21.442 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:09:21.454 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:09:21.455 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:09:21.455 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:09:21.834 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1499': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:10:21.578 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:10:21.579 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:10:21.579 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:10:21.579 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:10:21.615 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:10:21.616 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:10:21.616 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:10:21.996 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1500': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:11:21.967 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:11:21.967 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:11:21.967 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:11:21.968 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:11:21.980 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:11:21.981 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:11:21.981 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:11:22.372 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:11:22.373 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:11:22.373 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:11:22.373 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:11:22.374 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1501': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:11:22.375 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:11:22.376 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:11:22.377 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:11:22.796 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1471': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:12:22.498 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:12:22.499 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:12:22.499 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:12:22.499 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:12:22.537 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:12:22.537 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:12:22.537 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:12:22.909 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1502': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:13:22.922 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:13:22.922 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:13:22.922 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:13:22.922 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:13:22.935 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:13:22.936 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:13:22.936 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:13:23.312 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1503': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:14:22.948 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:14:22.949 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:14:22.949 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:14:22.950 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:14:22.962 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:14:22.963 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:14:22.963 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:14:23.359 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1504': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:15:23.368 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:15:23.369 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:15:23.369 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:15:23.369 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:15:23.381 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:15:23.382 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:15:23.382 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:15:23.749 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1505': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:16:23.397 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:16:23.398 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:16:23.398 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:16:23.398 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:16:23.410 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:16:23.411 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:16:23.411 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:16:23.774 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1506': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:17:23.791 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:17:23.791 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:17:23.791 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:17:23.791 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:17:23.804 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:17:23.805 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:17:23.805 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:17:24.173 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1507': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:17:38.800 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:17:38.801 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:17:38.801 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:17:38.801 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:17:38.803 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:17:38.804 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:17:38.804 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:17:39.173 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1478': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:18:23.814 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:18:23.815 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:18:23.815 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:18:23.815 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:18:23.829 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:18:23.829 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:18:23.829 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:18:24.199 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1508': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:19:23.832 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:19:23.832 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:19:23.833 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:19:23.833 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:19:23.867 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:19:23.867 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:19:23.867 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:19:24.237 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1509': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:20:23.848 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:20:23.849 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:20:23.849 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:20:23.849 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:20:23.852 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:20:23.853 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:20:23.853 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:20:24.231 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1510': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:21:23.866 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:21:23.866 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:21:23.866 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:21:23.866 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:21:23.879 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:21:23.880 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:21:23.880 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:21:24.254 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1511': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:22:23.882 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:22:23.883 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:22:23.883 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:22:23.883 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:22:23.895 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:22:23.896 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:22:23.896 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:22:24.220 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1512': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:23:24.179 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:23:24.179 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:23:24.180 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:23:24.180 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:23:24.192 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:23:24.193 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:23:24.193 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:23:24.567 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1513': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:24:24.317 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:24:24.318 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:24:24.318 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:24:24.318 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:24:24.329 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:24:24.330 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:24:24.330 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:24:24.662 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1514': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:25:24.334 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:25:24.335 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:25:24.335 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:25:24.335 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:25:24.347 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:25:24.348 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:25:24.348 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:25:24.735 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1515': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:26:24.470 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:26:24.471 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:26:24.471 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:26:24.471 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:26:24.484 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:26:24.484 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:26:24.485 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:26:24.876 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1516': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:27:24.602 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:27:24.603 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:27:24.603 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:27:24.603 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:27:24.616 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:27:24.617 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:27:24.617 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:27:25.018 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1517': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:28:24.743 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:28:24.744 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:28:24.744 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:28:24.744 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:28:24.758 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:28:24.758 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:28:24.759 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:28:25.113 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1518': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:29:24.762 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:29:24.762 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:29:24.762 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:29:24.762 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:29:24.775 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:29:24.775 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:29:24.776 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:29:25.202 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1519': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:39:43.662 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:39:43.663 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:39:43.663 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:39:43.663 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:39:43.679 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:39:43.680 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:39:43.680 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:39:44.104 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1520': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:39:58.828 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:39:58.830 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:39:58.830 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:39:58.831 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:39:58.838 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:39:58.840 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:39:58.843 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:40:00.023 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1521': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 17:40:14.490 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 17:40:14.494 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 17:40:14.494 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 17:40:14.494 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 17:40:14.502 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 17:40:14.505 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 17:40:14.505 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 17:40:14.936 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1522': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-08-14 23:40:26.376 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Start
2025-08-14 23:40:26.377 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Get food items from API
2025-08-14 23:40:26.377 +02:00 [INF] calcalc.Services.MattilsynetAPIServiceMock Getting items from mock!
2025-08-14 23:40:26.377 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Got food items from API
2025-08-14 23:40:26.390 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding food items to database
2025-08-14 23:40:26.391 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Done adding food items to database, added 0
2025-08-14 23:40:26.391 +02:00 [INF] calcalc.BackgroundJobs.MattilsynetSync MattilsynetSync: Adding units to food items to database
2025-08-14 23:40:26.824 +02:00 [ERR] Hangfire.AutomaticRetryAttribute Failed to process the job '1523': an exception occurred.
System.InvalidOperationException: The instance of entity type 'FoodHasUnit' cannot be tracked because another instance with the same key value for {'FoodItemId', 'FoodUnitId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.NavigationCollectionChanged(InternalEntityEntry entry, INavigationBase navigationBase, IEnumerable`1 added, IEnumerable`1 removed)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectNavigationChange(InternalEntityEntry entry, INavigationBase navigationBase)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(IStateManager stateManager)
   at Microsoft.EntityFrameworkCore.ChangeTracking.ChangeTracker.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at calcalc.BackgroundJobs.MattilsynetSync.DoSync()
   at InvokeStub_TaskAwaiter.GetResult(Object, Object, IntPtr*)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
